# æ¥å£è®¾è®¡è§„èŒƒ

## ğŸ“‹ è§„èŒƒä½¿ç”¨è¯´æ˜

æœ¬è§„èŒƒç”¨äºç»Ÿä¸€é¡¹ç›®ä¸­æ‰€æœ‰APIæ¥å£çš„è®¾è®¡æ ‡å‡†ï¼Œç¡®ä¿æ¥å£çš„ä¸€è‡´æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚

---

## ğŸ¯ è®¾è®¡åŸåˆ™

### æ ¸å¿ƒåŸåˆ™

1. **ğŸ”— RESTfulè®¾è®¡**ï¼šéµå¾ªRESTæ¶æ„é£æ ¼
2. **ğŸ“ ç»Ÿä¸€è§„èŒƒ**ï¼šä¿æŒæ¥å£é£æ ¼ä¸€è‡´
3. **ğŸ”’ å®‰å…¨ç¬¬ä¸€**ï¼šè€ƒè™‘å®‰å…¨é˜²æŠ¤æªæ–½  
4. **âš¡ æ€§èƒ½ä¼˜åŒ–**ï¼šå“åº”é€Ÿåº¦å’Œèµ„æºåˆ©ç”¨
5. **ğŸ“– æ–‡æ¡£å®Œæ•´**ï¼šæä¾›æ¸…æ™°çš„æ¥å£æ–‡æ¡£
6. **ğŸ”„ ç‰ˆæœ¬ç®¡ç†**ï¼šæ”¯æŒå‘åå…¼å®¹

### è®¾è®¡å“²å­¦

- **ç®€æ´æ˜äº†**ï¼šæ¥å£è®¾è®¡åº”è¯¥ç›´è§‚æ˜“æ‡‚
- **èŒè´£å•ä¸€**ï¼šæ¯ä¸ªæ¥å£åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½
- **å¹‚ç­‰æ€§**ï¼šç›¸åŒè¯·æ±‚å¤šæ¬¡è°ƒç”¨ç»“æœä¸€è‡´
- **æ— çŠ¶æ€**ï¼šæ¥å£ä¸ä¾èµ–æœåŠ¡ç«¯çŠ¶æ€

---

## ğŸŒ URLè®¾è®¡è§„èŒƒ

### åŸºæœ¬ç»“æ„

```
https://{domain}/{api-version}/{resource}/{resource-id}/{sub-resource}
```

### URLå‘½åè§„åˆ™

#### âœ… æ¨èåšæ³•

```bash
# èµ„æºä½¿ç”¨å¤æ•°åè¯
GET    /api/v1/users          # è·å–ç”¨æˆ·åˆ—è¡¨
GET    /api/v1/users/123      # è·å–ç‰¹å®šç”¨æˆ·
POST   /api/v1/users          # åˆ›å»ºç”¨æˆ·
PUT    /api/v1/users/123      # æ›´æ–°ç”¨æˆ·
DELETE /api/v1/users/123      # åˆ é™¤ç”¨æˆ·

# åµŒå¥—èµ„æº
GET    /api/v1/users/123/orders     # è·å–ç”¨æˆ·çš„è®¢å•
POST   /api/v1/users/123/orders     # ä¸ºç”¨æˆ·åˆ›å»ºè®¢å•

# èµ„æºæ“ä½œ
POST   /api/v1/users/123/activate   # æ¿€æ´»ç”¨æˆ·
POST   /api/v1/orders/456/cancel    # å–æ¶ˆè®¢å•
```

#### âŒ ä¸æ¨èåšæ³•

```bash
# ä½¿ç”¨åŠ¨è¯
GET /api/v1/getUserList
POST /api/v1/createUser

# ä½¿ç”¨å•æ•°
GET /api/v1/user
GET /api/v1/order

# é©¼å³°å‘½å
GET /api/v1/userProfiles
GET /api/v1/orderItems
```

### ç‰ˆæœ¬ç®¡ç†

#### æ–¹å¼1ï¼šURLè·¯å¾„ç‰ˆæœ¬

```bash
GET /api/v1/users
GET /api/v2/users
```

#### æ–¹å¼2ï¼šè¯·æ±‚å¤´ç‰ˆæœ¬

```bash
GET /api/users
Accept: application/vnd.api+json;version=1
```

#### æ–¹å¼3ï¼šæŸ¥è¯¢å‚æ•°ç‰ˆæœ¬

```bash
GET /api/users?version=1
```

**æ¨èä½¿ç”¨æ–¹å¼1ï¼ˆURLè·¯å¾„ç‰ˆæœ¬ï¼‰**

---

## ğŸ”§ HTTPæ–¹æ³•è§„èŒƒ

### æ ‡å‡†HTTPæ–¹æ³•

| æ–¹æ³• | ç”¨é€” | å¹‚ç­‰æ€§ | å®‰å…¨æ€§ | ç¤ºä¾‹ |
|------|------|--------|--------|------|
| **GET** | è·å–èµ„æº | âœ… | âœ… | æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ |
| **POST** | åˆ›å»ºèµ„æº | âŒ | âŒ | åˆ›å»ºæ–°ç”¨æˆ· |
| **PUT** | æ›´æ–°èµ„æºï¼ˆå®Œæ•´ï¼‰ | âœ… | âŒ | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |
| **PATCH** | æ›´æ–°èµ„æºï¼ˆéƒ¨åˆ†ï¼‰ | âŒ | âŒ | ä¿®æ”¹ç”¨æˆ·çŠ¶æ€ |
| **DELETE** | åˆ é™¤èµ„æº | âœ… | âŒ | åˆ é™¤ç”¨æˆ· |
| **HEAD** | è·å–èµ„æºå¤´ä¿¡æ¯ | âœ… | âœ… | æ£€æŸ¥èµ„æºå­˜åœ¨æ€§ |
| **OPTIONS** | è·å–æ”¯æŒçš„æ–¹æ³• | âœ… | âœ… | CORSé¢„æ£€ |

### ä½¿ç”¨åœºæ™¯

#### GETè¯·æ±‚

```bash
# è·å–èµ„æºåˆ—è¡¨
GET /api/v1/users?page=1&size=20&status=active

# è·å–ç‰¹å®šèµ„æº
GET /api/v1/users/123

# è·å–åµŒå¥—èµ„æº
GET /api/v1/users/123/orders?status=pending
```

#### POSTè¯·æ±‚

```bash
# åˆ›å»ºèµ„æº
POST /api/v1/users
Content-Type: application/json

{
  "name": "å¼ ä¸‰",
  "email": "zhangsan@example.com"
}

# æ‰§è¡Œæ“ä½œ
POST /api/v1/users/123/send-email
```

#### PUTè¯·æ±‚

```bash
# å®Œæ•´æ›´æ–°èµ„æº
PUT /api/v1/users/123
Content-Type: application/json

{
  "name": "æå››",
  "email": "lisi@example.com",
  "status": "active"
}
```

#### PATCHè¯·æ±‚

```bash
# éƒ¨åˆ†æ›´æ–°èµ„æº
PATCH /api/v1/users/123
Content-Type: application/json

{
  "status": "inactive"
}
```

---

## ğŸ“Š çŠ¶æ€ç è§„èŒƒ

### çŠ¶æ€ç åˆ†ç±»

| ç±»åˆ« | èŒƒå›´ | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|------|------|------|----------|
| **1xx** | 100-199 | ä¿¡æ¯æ€§çŠ¶æ€ç  | å¾ˆå°‘ä½¿ç”¨ |
| **2xx** | 200-299 | æˆåŠŸçŠ¶æ€ç  | è¯·æ±‚æˆåŠŸå¤„ç† |
| **3xx** | 300-399 | é‡å®šå‘çŠ¶æ€ç  | èµ„æºä½ç½®æ”¹å˜ |
| **4xx** | 400-499 | å®¢æˆ·ç«¯é”™è¯¯ | è¯·æ±‚æœ‰è¯¯ |
| **5xx** | 500-599 | æœåŠ¡ç«¯é”™è¯¯ | æœåŠ¡å™¨æ•…éšœ |

### å¸¸ç”¨çŠ¶æ€ç 

#### æˆåŠŸçŠ¶æ€ç  (2xx)

| çŠ¶æ€ç  | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| **200** | OK | GETã€PUTã€PATCHæˆåŠŸ |
| **201** | Created | POSTåˆ›å»ºæˆåŠŸ |
| **202** | Accepted | è¯·æ±‚å·²æ¥å—ï¼Œå¼‚æ­¥å¤„ç† |
| **204** | No Content | DELETEæˆåŠŸï¼Œæ— è¿”å›å†…å®¹ |

#### å®¢æˆ·ç«¯é”™è¯¯ (4xx)

| çŠ¶æ€ç  | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| **400** | Bad Request | è¯·æ±‚å‚æ•°é”™è¯¯ |
| **401** | Unauthorized | æœªè®¤è¯ |
| **403** | Forbidden | å·²è®¤è¯ä½†æ— æƒé™ |
| **404** | Not Found | èµ„æºä¸å­˜åœ¨ |
| **405** | Method Not Allowed | HTTPæ–¹æ³•ä¸æ”¯æŒ |
| **409** | Conflict | èµ„æºå†²çª |
| **422** | Unprocessable Entity | å‚æ•°éªŒè¯å¤±è´¥ |
| **429** | Too Many Requests | è¯·æ±‚é¢‘ç‡è¶…é™ |

#### æœåŠ¡ç«¯é”™è¯¯ (5xx)

| çŠ¶æ€ç  | å«ä¹‰ | ä½¿ç”¨åœºæ™¯ |
|--------|------|----------|
| **500** | Internal Server Error | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |
| **502** | Bad Gateway | ç½‘å…³é”™è¯¯ |
| **503** | Service Unavailable | æœåŠ¡ä¸å¯ç”¨ |
| **504** | Gateway Timeout | ç½‘å…³è¶…æ—¶ |

---

## ğŸ“ è¯·æ±‚ä¸å“åº”æ ¼å¼

### è¯·æ±‚æ ¼å¼

#### Content-Type

```bash
# JSONæ ¼å¼ï¼ˆæ¨èï¼‰
Content-Type: application/json

# è¡¨å•æ ¼å¼
Content-Type: application/x-www-form-urlencoded

# æ–‡ä»¶ä¸Šä¼ 
Content-Type: multipart/form-data
```

#### è¯·æ±‚å¤´ç¤ºä¾‹

```http
POST /api/v1/users
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
Accept: application/json
User-Agent: MyApp/1.0.0
X-Request-ID: 550e8400-e29b-41d4-a716-446655440000
```

### å“åº”æ ¼å¼

#### ç»Ÿä¸€å“åº”ç»“æ„

```json
{
  "success": true,
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    // ä¸šåŠ¡æ•°æ®
  },
  "timestamp": "2024-01-15T10:30:00Z",
  "requestId": "550e8400-e29b-41d4-a716-446655440000"
}
```

#### æˆåŠŸå“åº”ç¤ºä¾‹

```json
// è·å–å•ä¸ªèµ„æº
{
  "success": true,
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "id": 123,
    "name": "å¼ ä¸‰",
    "email": "zhangsan@example.com",
    "status": "active",
    "createdAt": "2024-01-01T00:00:00Z"
  },
  "timestamp": "2024-01-15T10:30:00Z",
  "requestId": "req-123456"
}

// è·å–èµ„æºåˆ—è¡¨
{
  "success": true,
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "items": [
      {
        "id": 123,
        "name": "å¼ ä¸‰",
        "email": "zhangsan@example.com"
      }
    ],
    "pagination": {
      "page": 1,
      "size": 20,
      "total": 100,
      "totalPages": 5
    }
  },
  "timestamp": "2024-01-15T10:30:00Z",
  "requestId": "req-123456"
}
```

#### é”™è¯¯å“åº”ç¤ºä¾‹

```json
// å‚æ•°éªŒè¯é”™è¯¯
{
  "success": false,
  "code": 422,
  "message": "å‚æ•°éªŒè¯å¤±è´¥",
  "data": null,
  "errors": [
    {
      "field": "email",
      "message": "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"
    },
    {
      "field": "name",
      "message": "å§“åä¸èƒ½ä¸ºç©º"
    }
  ],
  "timestamp": "2024-01-15T10:30:00Z",
  "requestId": "req-123456"
}

// ä¸šåŠ¡é€»è¾‘é”™è¯¯
{
  "success": false,
  "code": 409,
  "message": "ç”¨æˆ·å·²å­˜åœ¨",
  "data": null,
  "errorCode": "USER_ALREADY_EXISTS",
  "timestamp": "2024-01-15T10:30:00Z",
  "requestId": "req-123456"
}
```

---

## ğŸ” è®¤è¯ä¸æˆæƒ

### è®¤è¯æ–¹å¼

#### JWT Bearer Tokenï¼ˆæ¨èï¼‰

```http
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### API Key

```http
Authorization: ApiKey your-api-key
# æˆ–
X-API-Key: your-api-key
```

#### Basicè®¤è¯

```http
Authorization: Basic base64(username:password)
```

### æˆæƒå“åº”

```json
// è®¤è¯å¤±è´¥
{
  "success": false,
  "code": 401,
  "message": "è®¤è¯å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•",
  "errorCode": "AUTHENTICATION_FAILED"
}

// æƒé™ä¸è¶³
{
  "success": false,
  "code": 403,
  "message": "æƒé™ä¸è¶³ï¼Œæ— æ³•è®¿é—®è¯¥èµ„æº",
  "errorCode": "INSUFFICIENT_PERMISSIONS"
}
```

---

## ğŸ“„ åˆ†é¡µä¸ç­›é€‰

### åˆ†é¡µå‚æ•°

```bash
# åŸºäºé¡µç çš„åˆ†é¡µ
GET /api/v1/users?page=1&size=20

# åŸºäºæ¸¸æ ‡çš„åˆ†é¡µ
GET /api/v1/users?cursor=eyJpZCI6MTIzfQ&size=20
```

### ç­›é€‰ä¸æ’åº

```bash
# ç­›é€‰å‚æ•°
GET /api/v1/users?status=active&role=admin&createdAfter=2024-01-01

# æ’åºå‚æ•°
GET /api/v1/users?sort=createdAt:desc,name:asc

# æœç´¢å‚æ•°
GET /api/v1/users?search=å¼ ä¸‰&searchFields=name,email
```

### å­—æ®µé€‰æ‹©

```bash
# åªè¿”å›æŒ‡å®šå­—æ®µ
GET /api/v1/users?fields=id,name,email

# æ’é™¤æŒ‡å®šå­—æ®µ
GET /api/v1/users?exclude=password,secretKey
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### ç¼“å­˜ç­–ç•¥

#### HTTPç¼“å­˜å¤´

```http
# å¼ºåˆ¶ç¼“å­˜
Cache-Control: max-age=3600, public

# åå•†ç¼“å­˜
ETag: "33a64df551425fcc55e4d42a148795d9f25f89d4"
Last-Modified: Wed, 21 Oct 2015 07:28:00 GMT

# ç¦ç”¨ç¼“å­˜
Cache-Control: no-cache, no-store, must-revalidate
```

#### æ¡ä»¶è¯·æ±‚

```http
# å®¢æˆ·ç«¯è¯·æ±‚
If-None-Match: "33a64df551425fcc55e4d42a148795d9f25f89d4"
If-Modified-Since: Wed, 21 Oct 2015 07:28:00 GMT

# æœåŠ¡ç«¯å“åº”
HTTP/1.1 304 Not Modified
```

### å‹ç¼©ä¼ è¾“

```http
# è¯·æ±‚å¤´
Accept-Encoding: gzip, deflate, br

# å“åº”å¤´
Content-Encoding: gzip
```

### æ‰¹é‡æ“ä½œ

```bash
# æ‰¹é‡è·å–
GET /api/v1/users?ids=1,2,3,4,5

# æ‰¹é‡åˆ›å»º
POST /api/v1/users/batch
Content-Type: application/json

{
  "users": [
    {"name": "å¼ ä¸‰", "email": "zhangsan@example.com"},
    {"name": "æå››", "email": "lisi@example.com"}
  ]
}

# æ‰¹é‡æ›´æ–°
PATCH /api/v1/users/batch
Content-Type: application/json

{
  "updates": [
    {"id": 1, "status": "active"},
    {"id": 2, "status": "inactive"}
  ]
}
```

---

## ğŸ›¡ï¸ å®‰å…¨è§„èŒƒ

### è¾“å…¥éªŒè¯

```json
// å‚æ•°éªŒè¯è§„åˆ™ç¤ºä¾‹
{
  "name": {
    "type": "string",
    "required": true,
    "minLength": 2,
    "maxLength": 50,
    "pattern": "^[\\u4e00-\\u9fa5a-zA-Z\\s]+$"
  },
  "email": {
    "type": "string",
    "required": true,
    "format": "email"
  },
  "age": {
    "type": "integer",
    "minimum": 0,
    "maximum": 150
  }
}
```

### æ•æ„Ÿä¿¡æ¯å¤„ç†

```json
// å“åº”ä¸­éšè—æ•æ„Ÿä¿¡æ¯
{
  "id": 123,
  "name": "å¼ ä¸‰",
  "email": "zhan***@example.com",  // è„±æ•å¤„ç†
  "phone": "138****5678",          // è„±æ•å¤„ç†
  // "password": "..."             // å®Œå…¨éšè—
}
```

### é¢‘ç‡é™åˆ¶

```http
# å“åº”å¤´æ˜¾ç¤ºé™æµä¿¡æ¯
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999
X-RateLimit-Reset: 1640995200

# è¶…å‡ºé™åˆ¶æ—¶çš„å“åº”
HTTP/1.1 429 Too Many Requests
{
  "success": false,
  "code": 429,
  "message": "è¯·æ±‚é¢‘ç‡è¶…å‡ºé™åˆ¶",
  "retryAfter": 60
}
```

---

## ğŸ“‹ é”™è¯¯å¤„ç†è§„èŒƒ

### é”™è¯¯ç è®¾è®¡

#### ä¸šåŠ¡é”™è¯¯ç æ ¼å¼

```
[ä¸šåŠ¡æ¨¡å—][é”™è¯¯ç±»å‹][å…·ä½“é”™è¯¯]
USER_VALIDATION_EMAIL_INVALID
ORDER_BUSINESS_INSUFFICIENT_STOCK
PAYMENT_EXTERNAL_GATEWAY_TIMEOUT
```

#### é”™è¯¯ç ç¤ºä¾‹

| é”™è¯¯ç  | HTTPçŠ¶æ€ç  | é”™è¯¯ä¿¡æ¯ | è§£å†³æ–¹æ¡ˆ |
|--------|------------|----------|----------|
| USER_NOT_FOUND | 404 | ç”¨æˆ·ä¸å­˜åœ¨ | æ£€æŸ¥ç”¨æˆ·ID |
| USER_ALREADY_EXISTS | 409 | ç”¨æˆ·å·²å­˜åœ¨ | ä½¿ç”¨å…¶ä»–é‚®ç®± |
| INVALID_CREDENTIALS | 401 | ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ | é‡æ–°è¾“å…¥ |
| INSUFFICIENT_PERMISSIONS | 403 | æƒé™ä¸è¶³ | è”ç³»ç®¡ç†å‘˜ |
| VALIDATION_FAILED | 422 | å‚æ•°éªŒè¯å¤±è´¥ | æ£€æŸ¥è¾“å…¥å‚æ•° |

### é”™è¯¯å“åº”ç»“æ„

```json
{
  "success": false,
  "code": 422,
  "message": "å‚æ•°éªŒè¯å¤±è´¥",
  "errorCode": "VALIDATION_FAILED",
  "errors": [
    {
      "field": "email",
      "message": "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®",
      "code": "INVALID_EMAIL_FORMAT"
    }
  ],
  "requestId": "req-123456",
  "timestamp": "2024-01-15T10:30:00Z",
  "documentation": "https://api-docs.example.com/errors/VALIDATION_FAILED"
}
```

---

## ğŸ“– æ¥å£æ–‡æ¡£è§„èŒƒ

### OpenAPIè§„èŒƒ

```yaml
openapi: 3.0.3
info:
  title: ç”¨æˆ·ç®¡ç†API
  description: ç”¨æˆ·ç®¡ç†ç³»ç»Ÿæ¥å£æ–‡æ¡£
  version: 1.0.0
  contact:
    name: APIæ”¯æŒ
    email: api-support@example.com
    url: https://support.example.com

servers:
  - url: https://api.example.com/v1
    description: ç”Ÿäº§ç¯å¢ƒ
  - url: https://api-staging.example.com/v1
    description: æµ‹è¯•ç¯å¢ƒ

paths:
  /users:
    get:
      summary: è·å–ç”¨æˆ·åˆ—è¡¨
      description: è·å–ç³»ç»Ÿä¸­æ‰€æœ‰ç”¨æˆ·çš„åˆ†é¡µåˆ—è¡¨
      parameters:
        - name: page
          in: query
          description: é¡µç ï¼Œä»1å¼€å§‹
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: size
          in: query
          description: æ¯é¡µæ•°é‡
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: è·å–æˆåŠŸ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserListResponse'
        '400':
          description: è¯·æ±‚å‚æ•°é”™è¯¯
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: integer
          description: ç”¨æˆ·ID
          example: 123
        name:
          type: string
          description: ç”¨æˆ·å§“å
          example: "å¼ ä¸‰"
        email:
          type: string
          format: email
          description: é‚®ç®±åœ°å€
          example: "zhangsan@example.com"
      required:
        - id
        - name
        - email
```

### æ¥å£æ–‡æ¡£è¦ç´ 

#### å¿…é¡»åŒ…å«çš„ä¿¡æ¯

1. **æ¥å£æè¿°**ï¼šæ¸…æ™°è¯´æ˜æ¥å£ç”¨é€”
2. **è¯·æ±‚æ–¹æ³•**ï¼šGETã€POSTã€PUTã€DELETEç­‰
3. **è¯·æ±‚URL**ï¼šå®Œæ•´çš„æ¥å£åœ°å€
4. **è¯·æ±‚å‚æ•°**ï¼šå‚æ•°åã€ç±»å‹ã€æ˜¯å¦å¿…å¡«ã€ç¤ºä¾‹
5. **å“åº”æ ¼å¼**ï¼šæˆåŠŸå’Œå¤±è´¥çš„å“åº”ç¤ºä¾‹
6. **çŠ¶æ€ç **ï¼šå¯èƒ½è¿”å›çš„HTTPçŠ¶æ€ç 
7. **é”™è¯¯ç **ï¼šä¸šåŠ¡é”™è¯¯ç åŠå«ä¹‰

#### ç¤ºä¾‹æ–‡æ¡£æ¨¡æ¿

```markdown
## åˆ›å»ºç”¨æˆ·

### æ¥å£ä¿¡æ¯
- **æ¥å£åç§°**ï¼šåˆ›å»ºç”¨æˆ·
- **æ¥å£åœ°å€**ï¼š`POST /api/v1/users`
- **æ¥å£æè¿°**ï¼šåˆ›å»ºæ–°çš„ç³»ç»Ÿç”¨æˆ·

### è¯·æ±‚å‚æ•°

**Headers**
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° |
|--------|------|------|------|
| Content-Type | string | æ˜¯ | application/json |
| Authorization | string | æ˜¯ | Bearer token |

**Body**
| å‚æ•°å | ç±»å‹ | å¿…å¡« | æè¿° | ç¤ºä¾‹ |
|--------|------|------|------|------|
| name | string | æ˜¯ | ç”¨æˆ·å§“å | "å¼ ä¸‰" |
| email | string | æ˜¯ | é‚®ç®±åœ°å€ | "zhangsan@example.com" |
| phone | string | å¦ | æ‰‹æœºå·ç  | "13812345678" |

### è¯·æ±‚ç¤ºä¾‹

```bash
curl -X POST https://api.example.com/v1/users \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer your-token" \
  -d '{
    "name": "å¼ ä¸‰",
    "email": "zhangsan@example.com",
    "phone": "13812345678"
  }'
```

### å“åº”ç¤ºä¾‹

**æˆåŠŸå“åº” (201)**
```json
{
  "success": true,
  "code": 201,
  "message": "ç”¨æˆ·åˆ›å»ºæˆåŠŸ",
  "data": {
    "id": 123,
    "name": "å¼ ä¸‰",
    "email": "zhangsan@example.com",
    "phone": "13812345678",
    "status": "active",
    "createdAt": "2024-01-15T10:30:00Z"
  }
}
```

**é”™è¯¯å“åº” (422)**
```json
{
  "success": false,
  "code": 422,
  "message": "å‚æ•°éªŒè¯å¤±è´¥",
  "errorCode": "VALIDATION_FAILED",
  "errors": [
    {
      "field": "email",
      "message": "é‚®ç®±æ ¼å¼ä¸æ­£ç¡®"
    }
  ]
}
```

### é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | HTTPçŠ¶æ€ç  | è¯´æ˜ |
|--------|------------|------|
| USER_ALREADY_EXISTS | 409 | é‚®ç®±å·²è¢«æ³¨å†Œ |
| VALIDATION_FAILED | 422 | å‚æ•°éªŒè¯å¤±è´¥ |
| INTERNAL_ERROR | 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |
```

---

## ğŸ§ª æµ‹è¯•è§„èŒƒ

### æ¥å£æµ‹è¯•ç”¨ä¾‹

```json
{
  "testSuite": "ç”¨æˆ·ç®¡ç†æ¥å£æµ‹è¯•",
  "testCases": [
    {
      "id": "TC001",
      "name": "åˆ›å»ºç”¨æˆ·_æˆåŠŸåœºæ™¯",
      "method": "POST",
      "url": "/api/v1/users",
      "headers": {
        "Content-Type": "application/json",
        "Authorization": "Bearer valid-token"
      },
      "body": {
        "name": "æµ‹è¯•ç”¨æˆ·",
        "email": "test@example.com"
      },
      "expectedStatus": 201,
      "expectedResponse": {
        "success": true,
        "code": 201,
        "data.id": "exists",
        "data.email": "test@example.com"
      }
    },
    {
      "id": "TC002",
      "name": "åˆ›å»ºç”¨æˆ·_é‚®ç®±å·²å­˜åœ¨",
      "method": "POST",
      "url": "/api/v1/users",
      "body": {
        "name": "æµ‹è¯•ç”¨æˆ·",
        "email": "existing@example.com"
      },
      "expectedStatus": 409,
      "expectedResponse": {
        "success": false,
        "errorCode": "USER_ALREADY_EXISTS"
      }
    }
  ]
}
```

### æ€§èƒ½æµ‹è¯•æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹è¯•æ–¹æ³• |
|------|--------|----------|
| **å“åº”æ—¶é—´** | <200ms | å‹åŠ›æµ‹è¯• |
| **å¹¶å‘ç”¨æˆ·** | 1000+ | è´Ÿè½½æµ‹è¯• |
| **ååé‡** | 500 TPS | æ€§èƒ½æµ‹è¯• |
| **å¯ç”¨æ€§** | 99.9% | å¯é æ€§æµ‹è¯• |

---

## ğŸ“š æœ€ä½³å®è·µæ€»ç»“

### âœ… æ¨èåšæ³•

1. **ç»Ÿä¸€é”™è¯¯å¤„ç†**ï¼šä½¿ç”¨æ ‡å‡†åŒ–çš„é”™è¯¯å“åº”æ ¼å¼
2. **å‚æ•°éªŒè¯**ï¼šåœ¨ä¸šåŠ¡é€»è¾‘å‰è¿›è¡Œä¸¥æ ¼çš„å‚æ•°éªŒè¯
3. **æ—¥å¿—è®°å½•**ï¼šè®°å½•å…³é”®æ“ä½œçš„è¯¦ç»†æ—¥å¿—
4. **æ¥å£ç‰ˆæœ¬ç®¡ç†**ï¼šåˆç†è§„åˆ’æ¥å£ç‰ˆæœ¬æ¼”è¿›
5. **æ€§èƒ½ç›‘æ§**ï¼šç›‘æ§æ¥å£å“åº”æ—¶é—´å’Œé”™è¯¯ç‡
6. **æ–‡æ¡£ç»´æŠ¤**ï¼šä¿æŒæ¥å£æ–‡æ¡£ä¸å®ç°åŒæ­¥

### âŒ é¿å…çš„é—®é¢˜

1. **çŠ¶æ€ç è¯¯ç”¨**ï¼šä¸è¦ä½¿ç”¨é”™è¯¯çš„HTTPçŠ¶æ€ç 
2. **å“åº”æ ¼å¼ä¸ä¸€è‡´**ï¼šé¿å…ä¸åŒæ¥å£è¿”å›ä¸åŒçš„æ•°æ®ç»“æ„
3. **æ•æ„Ÿä¿¡æ¯æš´éœ²**ï¼šä¸è¦åœ¨å“åº”ä¸­è¿”å›å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯
4. **ç¼ºä¹éªŒè¯**ï¼šä¸è¦å¿½ç•¥è¾“å…¥å‚æ•°çš„éªŒè¯
5. **ç¡¬ç¼–ç **ï¼šé¿å…åœ¨æ¥å£ä¸­ç¡¬ç¼–ç ä¸šåŠ¡é€»è¾‘
6. **è¿‡åº¦è®¾è®¡**ï¼šä¸è¦è¿‡åº¦å¤æ‚åŒ–ç®€å•çš„æ¥å£

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç³»ç»Ÿæ¶æ„å›¾æ¨¡æ¿](ç³»ç»Ÿæ¶æ„å›¾æ¨¡æ¿.md)
- [æŠ€æœ¯é€‰å‹å†³ç­–è¡¨](æŠ€æœ¯é€‰å‹å†³ç­–è¡¨.md)
- [æ¶æ„é£é™©è¯„ä¼°è¡¨](æ¶æ„é£é™©è¯„ä¼°è¡¨.md)
- [éƒ¨ç½²æ¶æ„å›¾æ¨¡æ¿](éƒ¨ç½²æ¶æ„å›¾æ¨¡æ¿.md)

---

**åˆ›å»ºæ—¶é—´**ï¼š{å½“å‰æ—¥æœŸ}  
**æ›´æ–°æ—¶é—´**ï¼š{å½“å‰æ—¥æœŸ}  
**ç‰ˆæœ¬å·**ï¼šv1.0
