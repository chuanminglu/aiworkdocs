# å·¥å…·é“¾é›†æˆä¸æŠ€æœ¯é€‚é…æ¶æ„å›¾

## ğŸ“Š æ•´ä½“æ¶æ„æ¦‚è§ˆ

```mermaid
graph TB
    subgraph "å¼€å‘ç¯å¢ƒå±‚"
        A1[IDEé›†æˆæ’ä»¶]
        A2[æœ¬åœ°å¼€å‘ç¯å¢ƒ]
        A3[ä»£ç ç¼–è¾‘å™¨]
    end
  
    subgraph "ä»£ç ç®¡ç†å±‚"
        B1[GitLabä¼ä¸šç‰ˆ]
        B2[åˆ†æ”¯ç­–ç•¥ç®¡ç†]
        B3[ä»£ç å®¡æŸ¥æµç¨‹]
    end
  
    subgraph "æ„å»ºç¼–è¯‘å±‚"
        C1[Jenkins Master]
        C2[Jenkins SlaveèŠ‚ç‚¹]
        C3[æ„å»ºä»»åŠ¡è°ƒåº¦]
        C4[åˆ¶å“ä»“åº“Nexus]
    end
  
    subgraph "è´¨é‡æ£€æµ‹å±‚"
        D1[SonarQubeä»£ç æ‰«æ]
        D2[å®‰å…¨æ¼æ´æ£€æµ‹]
        D3[ä»£ç è¦†ç›–ç‡åˆ†æ]
        D4[æŠ€æœ¯å€ºåŠ¡è¯„ä¼°]
    end
  
    subgraph "éƒ¨ç½²å‘å¸ƒå±‚"
        E1[æµ‹è¯•ç¯å¢ƒéƒ¨ç½²]
        E2[é¢„ç”Ÿäº§ç¯å¢ƒ]
        E3[ç”Ÿäº§ç¯å¢ƒå‘å¸ƒ]
        E4[å›æ»šæœºåˆ¶]
    end
  
    A1 --> B1
    A2 --> B1
    A3 --> B1
    B1 --> C1
    B2 --> C1
    B3 --> C1
    C1 --> C2
    C2 --> C3
    C3 --> C4
    C1 --> D1
    C2 --> D1
    D1 --> D2
    D2 --> D3
    D3 --> D4
    D4 --> E1
    E1 --> E2
    E2 --> E3
    E3 --> E4
  
    style B1 fill:#e1f5fe
    style C1 fill:#f3e5f5
    style D1 fill:#e8f5e8
    style E1 fill:#fff3e0
```

## ğŸ”§ æ ¸å¿ƒå·¥å…·é›†æˆçŸ©é˜µ

```mermaid
graph LR
    subgraph "æºç ç®¡ç†"
        Git[GitLab Enterprise]
        Git --> |ä»£ç æ‰˜ç®¡| Repo[ä»“åº“ç®¡ç†]
        Git --> |æƒé™æ§åˆ¶| Auth[è®¤è¯æˆæƒ]
        Git --> |åˆ†æ”¯ç­–ç•¥| Branch[åˆ†æ”¯ç®¡ç†]
    end
  
    subgraph "æŒç»­é›†æˆ"
        Jenkins[Jenkinsé›†ç¾¤]
        Jenkins --> |ä»»åŠ¡è°ƒåº¦| Job[æ„å»ºä»»åŠ¡]
        Jenkins --> |èŠ‚ç‚¹ç®¡ç†| Node[SlaveèŠ‚ç‚¹]
        Jenkins --> |æµæ°´çº¿| Pipeline[CI/CDæµæ°´çº¿]
    end
  
    subgraph "è´¨é‡æ£€æµ‹"
        Sonar[SonarQube]
        Sonar --> |é™æ€æ‰«æ| Static[ä»£ç è´¨é‡]
        Sonar --> |å®‰å…¨æ£€æµ‹| Security[å®‰å…¨æ¼æ´]
        Sonar --> |è¦†ç›–ç‡| Coverage[æµ‹è¯•è¦†ç›–]
    end
  
    subgraph "åˆ¶å“ç®¡ç†"
        Nexus[Nexus Repository]
        Nexus --> |ä¾èµ–ç®¡ç†| Deps[ä¾èµ–åº“]
        Nexus --> |åˆ¶å“å­˜å‚¨| Artifacts[æ„å»ºäº§ç‰©]
        Nexus --> |ç‰ˆæœ¬ç®¡ç†| Version[ç‰ˆæœ¬æ§åˆ¶]
    end
  
    Git -.-> Jenkins
    Jenkins -.-> Sonar
    Jenkins -.-> Nexus
    Sonar -.-> Jenkins
  
    style Git fill:#ff9999
    style Jenkins fill:#99ccff
    style Sonar fill:#99ff99
    style Nexus fill:#ffcc99
```

## ğŸ’» å¤šæŠ€æœ¯æ ˆæ”¯æŒæ¶æ„

```mermaid
flowchart TD
    subgraph "ç¼–ç¨‹è¯­è¨€æ”¯æŒ"
        Java[Java 8/11/17/21]
        Python[Python 3.8+]
        Go[Go 1.19+]
        CSharp[C# .NET Core]
        CPP[C/C++]
        JS[JavaScript/Node.js]
    end
  
    subgraph "æ„å»ºå·¥å…·é€‚é…"
        Maven[Maven 3.6+]
        Gradle[Gradle 7.0+]
        Pip[Pip/Poetry]
        GoMod[Go Modules]
        MSBuild[MSBuild]
        Make[CMake/Make]
        NPM[NPM/Yarn]
    end
  
    subgraph "å®¹å™¨åŒ–å¹³å°"
        Docker[Docker Engine]
        K8s[Kubernetes]
        Harbor[Harboré•œåƒä»“åº“]
    end
  
    subgraph "è´¨é‡å·¥å…·é›†"
        SpotBugs[SpotBugs]
        ESLint[ESLint]
        Pylint[Pylint/Flake8]
        GoLint[GoLint/GoVet]
        CPPCheck[Cppcheck]
        SonarFamily[SonarQubeç³»åˆ—]
    end
  
    Java --> Maven
    Java --> Gradle
    Python --> Pip
    Go --> GoMod
    CSharp --> MSBuild
    CPP --> Make
    JS --> NPM
  
    Maven --> Docker
    Gradle --> Docker
    Pip --> Docker
    GoMod --> K8s
    MSBuild --> Harbor
    Make --> Docker
    NPM --> K8s
  
    Docker --> SpotBugs
    K8s --> ESLint
    Harbor --> Pylint
    Docker --> GoLint
    K8s --> CPPCheck
    Harbor --> SonarFamily
  
    style Java fill:#f9f9f9
    style Python fill:#306998
    style Go fill:#00add8
    style CSharp fill:#239120
    style CPP fill:#00599c
    style JS fill:#f7df1e
```

## ğŸ—ï¸ Jenkins Master-Slaveé›†ç¾¤æ¶æ„

```mermaid
graph TB
    subgraph "è´Ÿè½½å‡è¡¡å±‚"
        LB[è´Ÿè½½å‡è¡¡å™¨<br/>Nginx/HAProxy]
    end
  
    subgraph "Jenkins Masteré›†ç¾¤"
        M1[Jenkins Master 1<br/>ä¸»èŠ‚ç‚¹]
        M2[Jenkins Master 2<br/>å¤‡ç”¨èŠ‚ç‚¹]
    end
  
    subgraph "æ„å»ºèŠ‚ç‚¹æ± "
        subgraph "Javaæ„å»ºèŠ‚ç‚¹"
            S1[Java Slave 1<br/>JDK 8/11]
            S2[Java Slave 2<br/>JDK 17/21]
        end
      
        subgraph "å¤šè¯­è¨€èŠ‚ç‚¹"
            S3[Python Slave<br/>Python 3.8+]
            S4[Go Slave<br/>Go 1.19+]
            S5[.NET Slave<br/>.NET Core]
        end
      
        subgraph "å®¹å™¨åŒ–èŠ‚ç‚¹"
            S6[Docker Slave 1<br/>å®¹å™¨æ„å»º]
            S7[Docker Slave 2<br/>é•œåƒæ‰“åŒ…]
        end
      
        subgraph "ç‰¹æ®Šç”¨é€”èŠ‚ç‚¹"
            S8[iOSæ„å»ºèŠ‚ç‚¹<br/>macOS]
            S9[Windowsæ„å»ºèŠ‚ç‚¹<br/>Visual Studio]
        end
    end
  
    subgraph "å­˜å‚¨å±‚"
        NFS[å…±äº«å­˜å‚¨<br/>NFS/CIFS]
        DB[(æ•°æ®åº“<br/>PostgreSQL)]
    end
  
    LB --> M1
    LB --> M2
  
    M1 --> S1
    M1 --> S2
    M1 --> S3
    M1 --> S4
    M1 --> S5
    M1 --> S6
    M1 --> S7
    M1 --> S8
    M1 --> S9
  
    M2 --> S1
    M2 --> S2
    M2 --> S3
  
    M1 --> NFS
    M2 --> NFS
    M1 --> DB
    M2 --> DB
  
    style LB fill:#ff6b6b
    style M1 fill:#4ecdc4
    style M2 fill:#45b7d1
    style S1 fill:#96ceb4
    style S2 fill:#96ceb4
    style S3 fill:#ffeaa7
    style S4 fill:#dda0dd
    style S5 fill:#98d8c8
    style S6 fill:#fdcb6e
    style S7 fill:#fdcb6e
    style S8 fill:#e17055
    style S9 fill:#6c5ce7
```

## ğŸ”„ é—ç•™ç³»ç»Ÿæ”¹é€ æ–¹æ¡ˆ

```mermaid
flowchart LR
    subgraph "ç°çŠ¶åˆ†æ"
        Legacy1[è€æ—§JDK 6/7]
        Legacy2[æœ¬åœ°ä¾èµ–åº“]
        Legacy3[ç‰¹å®šOSç¯å¢ƒ]
        Legacy4[å®šåˆ¶åŒ–å·¥å…·]
    end
  
    subgraph "å®¹å™¨åŒ–æ”¹é€ "
        Container1[åŸºç¡€é•œåƒæ„å»º]
        Container2[ä¾èµ–åº“æ‰“åŒ…]
        Container3[ç¯å¢ƒæ ‡å‡†åŒ–]
        Container4[å·¥å…·é›†æˆ]
    end
  
    subgraph "é€‚é…ç­–ç•¥"
        Strategy1[æ¸è¿›å¼è¿ç§»]
        Strategy2[åŒè½¨åˆ¶è¿è¡Œ]
        Strategy3[å…¼å®¹æ€§å±‚]
        Strategy4[æ•°æ®è¿ç§»]
    end
  
    subgraph "äº¤ä»˜æˆæœ"
        Result1[Dockeré•œåƒ]
        Result2[K8séƒ¨ç½²æ¸…å•]
        Result3[è¿ç§»è„šæœ¬]
        Result4[æµ‹è¯•ç”¨ä¾‹]
    end
  
    Legacy1 --> Container1
    Legacy2 --> Container2
    Legacy3 --> Container3
    Legacy4 --> Container4
  
    Container1 --> Strategy1
    Container2 --> Strategy2
    Container3 --> Strategy3
    Container4 --> Strategy4
  
    Strategy1 --> Result1
    Strategy2 --> Result2
    Strategy3 --> Result3
    Strategy4 --> Result4
  
    style Legacy1 fill:#ffaaa5
    style Legacy2 fill:#ffaaa5
    style Legacy3 fill:#ffaaa5
    style Legacy4 fill:#ffaaa5
    style Container1 fill:#a8e6cf
    style Container2 fill:#a8e6cf
    style Container3 fill:#a8e6cf
    style Container4 fill:#a8e6cf
```

## ğŸ“ˆ æ€§èƒ½æå‡æ•ˆæœå¯¹æ¯”

```mermaid
xychart-beta
    title "æ„å»ºæ•ˆç‡æå‡å¯¹æ¯”"
    x-axis [æ”¹é€ å‰, æ”¹é€ å]
    y-axis "æ„å»ºæ—¶é—´(åˆ†é’Ÿ)" 0 --> 60
    bar [45, 12]
```

```mermaid
pie title å¼€å‘ç¯å¢ƒç»Ÿä¸€åŒ–è¦†ç›–ç‡
    "Javaé¡¹ç›®" : 35
    "Pythoné¡¹ç›®" : 25
    "Goé¡¹ç›®" : 15
    "C#é¡¹ç›®" : 15
    "å…¶ä»–è¯­è¨€" : 10
```

## ğŸ¯ ä»·å€¼è´¡çŒ®é‡åŒ–æŒ‡æ ‡

| æŒ‡æ ‡ç±»åˆ«     | æ”¹é€ å‰ | æ”¹é€ å | æå‡å¹…åº¦         |
| ------------ | ------ | ------ | ---------------- |
| æ„å»ºæ—¶é—´     | 45åˆ†é’Ÿ | 12åˆ†é’Ÿ | **75%â†“**  |
| ç¯å¢ƒå‡†å¤‡     | 2å°æ—¶  | 10åˆ†é’Ÿ | **92%â†“**  |
| éƒ¨ç½²æˆåŠŸç‡   | 60%    | 95%    | **58%â†‘**  |
| ç¯å¢ƒä¸€è‡´æ€§   | 30%    | 98%    | **227%â†‘** |
| é—®é¢˜æ’æŸ¥æ—¶é—´ | 4å°æ—¶  | 30åˆ†é’Ÿ | **87%â†“**  |

```mermaid
graph LR
    subgraph "äº¤ä»˜æˆæœæ¸…å•"
        Doc1[ğŸ“‹ å·¥å…·é“¾é›†æˆæ¶æ„è®¾è®¡æ–‡æ¡£]
        Template1[ğŸ“ Javaé¡¹ç›®æ„å»ºæ¨¡æ¿]
        Template2[ğŸ“ Pythoné¡¹ç›®æ„å»ºæ¨¡æ¿]
        Template3[ğŸ“ Goé¡¹ç›®æ„å»ºæ¨¡æ¿]
        Template4[ğŸ“ C#é¡¹ç›®æ„å»ºæ¨¡æ¿]
        Template5[ğŸ“ å‰ç«¯é¡¹ç›®æ„å»ºæ¨¡æ¿]
        Solution1[ğŸ”§ JDK6/7é—ç•™ç³»ç»Ÿæ–¹æ¡ˆ]
        Solution2[ğŸ”§ æœ¬åœ°ä¾èµ–åº“é€‚é…æ–¹æ¡ˆ]
        Solution3[ğŸ”§ ç‰¹æ®Šç¯å¢ƒå®¹å™¨åŒ–æ–¹æ¡ˆ]
        Deploy1[ğŸš€ Jenkinsé›†ç¾¤éƒ¨ç½²æ–¹æ¡ˆ]
    end
  
    Doc1 --> Template1
    Doc1 --> Template2
    Doc1 --> Template3
    Doc1 --> Template4
    Doc1 --> Template5
  
    Template1 --> Solution1
    Template2 --> Solution2
    Template3 --> Solution3
  
    Solution1 --> Deploy1
    Solution2 --> Deploy1
    Solution3 --> Deploy1
  
    style Doc1 fill:#e3f2fd
    style Deploy1 fill:#f3e5f5
```

## ğŸ”— å·¥å…·é“¾æ•°æ®æµå›¾

```mermaid
sequenceDiagram
    participant Dev as å¼€å‘è€…
    participant GitLab as GitLab
    participant Jenkins as Jenkins
    participant SonarQube as SonarQube
    participant Nexus as Nexus
    participant K8s as Kubernetes
  
    Dev->>GitLab: 1. æ¨é€ä»£ç 
    GitLab->>Jenkins: 2. è§¦å‘Webhook
    Jenkins->>Jenkins: 3. æ‹‰å–ä»£ç 
    Jenkins->>SonarQube: 4. ä»£ç è´¨é‡æ‰«æ
    SonarQube-->>Jenkins: 5. è¿”å›è´¨é‡æŠ¥å‘Š
    Jenkins->>Jenkins: 6. æ‰§è¡Œæ„å»º
    Jenkins->>Nexus: 7. ä¸Šä¼ åˆ¶å“
    Jenkins->>K8s: 8. éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
    K8s-->>Jenkins: 9. éƒ¨ç½²çŠ¶æ€åé¦ˆ
    Jenkins-->>GitLab: 10. æ›´æ–°æ„å»ºçŠ¶æ€
    GitLab-->>Dev: 11. é€šçŸ¥æ„å»ºç»“æœ
```

è¿™ä¸ªæ¶æ„å›¾å…¨é¢å±•ç¤ºäº†å·¥å…·é“¾é›†æˆä¸æŠ€æœ¯é€‚é…çš„å„ä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬æ•´ä½“æ¶æ„ã€æŠ€æœ¯æ ˆæ”¯æŒã€é›†ç¾¤éƒ¨ç½²å’Œé—ç•™ç³»ç»Ÿæ”¹é€ ç­‰å…³é”®å†…å®¹ï¼Œä¸ºç©ºç®¡å±€çš„è½¯ä»¶ä»£ç è´¨é‡ç®¡æ§ä½“ç³»æä¾›äº†æ¸…æ™°çš„æŠ€æœ¯æŒ‡å¯¼ã€‚
